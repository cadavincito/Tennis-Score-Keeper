<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="assets/img/ball-01.svg" type="image/x-icon">
    <link rel="stylesheet" href="indexStyle.css" />
    <title>Tennis rancho</title>
  </head>
  <body>
    <header><a href="info.html"><img src="assets/img/tennisrancho-01.svg" alt="tennis ball"></a></header>
    <main>
      <section class="gameSetup">
        <!-- The Modal -->
        <div id="myModal" class="modal">
          <!-- Modal content -->
          <div class="modal-content">
            <h2 id="settingP1"></h2>
            <h2 id="settingP2"></h2>
            <h2 id="settingSets"></h2>
            <h2 id="settingGames"></h2>
            <div class="botones">
              <button  style="background-color: #088dfadc"><a href="app.html" style="text-decoration: none;color:white">accept</a></button>
              <button style="background-color: rgb(221, 30, 30)" id="cancel">
                cancel
              </button>
            </div>
          </div>
        </div>
        <!-- PLAYER NAMES -->
        <h2>Player names</h2>
        <div class="setting_container">
          <div class="player_names">
            <input id="p1n" type="text" value="" name="name"  maxlength="9" placeholder="Player 1 name" required/>
          </div>
          <div class="player_names">
            <input id="p2n" type="text" value="" name="name" maxlength="9" placeholder="Player 2 name" required />
          </div>
        </div>
        <!-- SETS -->
        <h2>Sets per match</h2>
        <div class="setting_container">
          <div id="sets_buttons">
            <div>
              <label for="1">1</label>
              <input id="1" type="radio" name="sets" value="1" />
            </div>
            <div>
              <label for="3">3</label>
              <input id="3" type="radio" name="sets" value="3" />
            </div>
            <div>
              <label for="5">5</label>
              <input id="5" type="radio" name="sets" value="5" />
            </div>
          </div>
        </div>
        <!-- GAMES -->
        <h2>Games per set</h2>
        <div class="setting_container">
          <div id="game_buttons">
            <div>
              <label for="4">4</label>
              <input id="4" type="radio" name="games" value="4" />
            </div>
            <div>
              <label for="6">6</label>
              <input id="6" type="radio" name="games" value="6" />
            </div>
            <div>
              <label for="8">8</label>
              <input id="8" type="radio" name="games" value="8" />
            </div>
          </div>
        </div>

        <div
          class="start setting_container"
          style="background-color: transparent;border:none;"
        >
          <button><a href="#" onclick="getValue()">Start</a></button>
        </div>
      </section>
    </main>
    <footer>
      <h3 style="text-align: center;">
        Tennis rancho scoreboard is developed with &#10084; by
        <a  href="https://cadavinci.com" target="_blank">Cadavinci.com</a>
      </h3>
    </footer>
    <script>
      function getValue() {
        // name of the player one
        var p1 = document.getElementById("p1n").value;
        // name of the player two
        var p2 = document.getElementById("p2n").value;

        //games per set
        const gameoptions = document.querySelectorAll('input[name="games"]');
        let games;
        for (const game of gameoptions) {
          if (game.checked) {
            games = game.value;
            break;
          }
        }

        //sets per match
        const setoptions = document.querySelectorAll('input[name="sets"]');
        let sets;
        for (const set of setoptions) {
          if (set.checked) {
            sets = set.value;
            break;
          }
        }

        /************
        MODAL STUFF
        ***********/
        //modal
        document.getElementById("myModal").style.display = "block";
        //modal elements
        document.getElementById("settingP1").innerHTML = "Player 1: " + p1;
        document.getElementById("settingP2").innerHTML = "Player 2: " + p2;
        document.getElementById("settingSets").innerHTML = "Sets: " + sets;
        document.getElementById("settingGames").innerHTML = "Games: " + games;
        //modal button methods
        document.getElementById("cancel").onclick = function () {
          document.getElementById("myModal").style.display = "none";
        };
        
        

        //cookies
        localStorage.setItem(1, p1);
        localStorage.setItem(2, p2);
        localStorage.setItem(3, games);
        localStorage.setItem(4, sets);
      }
    </script>
  </body>
</html>
